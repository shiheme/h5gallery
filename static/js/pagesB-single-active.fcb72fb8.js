(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesB-single-active"],{"4afa":function(e,t,a){"use strict";a.r(t);var n=a("8b0d"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"656b":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}));var n={beePage:a("ecdc").default,beeNavBar:a("11b0").default,beeIco:a("2b59").default,beeContentPage:a("e4e4").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("bee-page",{ref:"beePage",staticClass:"wrapper page-single",class:{light:"light"===e.theme,dark:"dark"===e.theme,sym:"sym"===e.theme},attrs:{"data-bee-theme":e.theme}},[a("v-uni-view",{staticClass:"bee-page",staticStyle:{width:"100vw",height:"100vh",position:"relative"}},[a("v-uni-view",{staticClass:"topwrap",class:{on:e.navActive},style:{width:e.windowWidth+"px",height:Number(e.navBarHeight+e.titleBarHeight+10)+"px"}},[a("v-uni-view",{staticClass:"before"}),a("bee-nav-bar",{staticClass:"session-navbar",staticStyle:{position:"absolute","z-index":"15",top:"0",left:"0"},style:{width:e.windowWidth+"px",height:e.navBarHeight+"px"},attrs:{"nav-active":e.navActive,"nav-goback":!0,"nav-getphone":!0,"nav-gohome":!0}}),a("v-uni-view",{staticClass:"active_filter",staticStyle:{position:"absolute",left:"0",right:"0",flex:"1",display:"flex","flex-direction":"column","border-radius":"10px","z-index":"15","justify-content":"center",padding:"0 10px"},style:{top:e.navBarHeight+"px",height:e.titleBarHeight+"px",margin:"5px 0px",left:e.beecss.mn+"px",right:e.beecss.mn+"px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.opencatsarea("allcats")}}},[a("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center","box-sizing":"border-box",flex:"1"}},[a("v-uni-view",{staticStyle:{"font-size":"14px",flex:"1",width:"auto"}},[a("v-uni-text",[e._v(e._s(e.catsword))])],1),a("bee-ico",{style:{width:e.titleBarHeight+"px",height:e.titleBarHeight+"px"},attrs:{name:"equalizer-line",size:"34"}})],1)],1)],1),a("v-uni-scroll-view",{staticStyle:{width:"100%",height:"100%"},attrs:{type:"list","scroll-y":"true","enable-back-to-top":!0,"refresher-enabled":!0,"refresher-triggered":e.triggered,"lower-threshold":"200"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.pullDown.apply(void 0,arguments)},refresherrefresh:function(t){arguments[0]=t=e.$handleEvent(t),e.refreshPage.apply(void 0,arguments)}}},[a("v-uni-view",{style:{"padding-top":Number(e.navBarHeight+e.titleBarHeight+20)+"px","padding-bottom":"40px"}},[a("bee-content-page",{ref:"pageactive",staticClass:"page-item",attrs:{pagetype:"active"},on:{loadType:function(t){arguments[0]=t=e.$handleEvent(t),e.loadType.apply(void 0,arguments)}}})],1)],1)],1)],1)},s=[]},"8b0d":function(e,t,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2909")),s=n(a("c7eb")),r=n(a("5530")),l=n(a("1da1"));a("a434"),a("d81d"),a("a9e3"),a("d3b7"),a("159b"),a("14d9");var o=a("26cb"),c=n(a("6903"));function u(e){for(var t=0;t<e.length;t++)""!=e[t]&&null!=e[t]&&"undefined"!==typeof e[t]||(e.splice(t,1),t-=1);return e}var d={props:{},data:function(){return{navActive:!0,newCats:[],catsword:"",triggered:!1}},computed:{allCats:function(){return this.$store.getters["session/get"]("params")}},onLoad:function(e){var t=this;return(0,l.default)((0,s.default)().mark((function a(){var n,i;return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return uni.$on("loadallCats",t.loadallCats),e&&t.allCats&&t.allCats.length>0?(n=t.allCats.map((function(t,a){return(0,r.default)((0,r.default)({},t),{},{value:e[t.type]?[Number(e[t.type])]:[],text:e[t.type]?t.name+" > "+e.title:""})})),t.newCats=n,t.setAllCatsState(t.newCats),i=[],t.allCats.forEach((function(e){i.push(e.text)})),i=u(i),i.every((function(e){return""===e}))?t.catsword="全部类别":t.catsword=i.join()):t.loadcats(e),a.next=4,t.opencatsarea(e.catstype);case 4:t.allCats.length>0&&t.pretoThreads("pageload");case 5:case"end":return a.stop()}}),a)})))()},onReady:function(){},onUnload:function(){uni.$off("loadallCats")},methods:(0,r.default)((0,r.default)({},(0,o.mapMutations)({setAllCatsState:"session/SET_PARAMS"})),{},{loadcats:function(e){var t=this;c.default.apiMpv1({cools:{api_type:"cats/all"},method:"GET"}).then((function(a){var n=(0,i.default)(a);t.setAllCatsState(n),uni.setStorageSync("loalallcats",n);var s=t.allCats.map((function(t,a){return(0,r.default)((0,r.default)({},t),{},{value:e[t.type]?[Number(e[t.type])]:[],text:e[t.type]?t.name+" > "+e.title:""})}));t.newCats=s,t.setAllCatsState(t.newCats);var l=[];t.allCats.forEach((function(e){l.push(e.text)})),l=u(l),l.every((function(e){return""===e}))?t.catsword="全部类别":t.catsword=l.join(),t.pretoThreads("pageload")}))},loadallCats:function(){if(this.allCats.length>0){var e=[];this.allCats.forEach((function(t){e.push(t.text)})),e=u(e),e.every((function(e){return""===e}))?this.catsword="全部类别":this.catsword=e.join(),this.pretoThreads("pageload")}},loadType:function(e){this.$refs.pageactive.loadingType=e,this.loadingType=this.$refs.pageactive.loadingType,this.triggered=!1},refreshPage:function(){this.triggered=!0,this.freshani=!0,this.pretoThreads("refresh")},pullDown:function(){"more"===this.loadingType&&this.pretoThreads("pullDown")},pretoThreads:function(e){var t=this.$refs.pageactive,a={post_type:"post"};"pullDown"===e?(t.isResetList=!1,t.page+=1,t.loadingType="loading"):(t.threads=[],t.page=1,t.isResetList=!0,t.loadingType="loading"),a.per_page=this.per_page;for(var n=0,i=this.allCats.length;n<i;++n){var s=this.allCats[n].type;this.allCats[n].value&&(a[s]=this.allCats[n].value)}t.params=a,t.loadThreads()},opencatsarea:function(e){var t=this;return(0,l.default)((0,s.default)().mark((function a(){return(0,s.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("allcats"!==e){a.next=3;break}return a.next=3,t.linkHalfScreen("/pagesA/action/cats");case 3:return a.abrupt("return");case 4:case"end":return a.stop()}}),a)})))()}})};t.default=d},"9e19":function(e,t,a){"use strict";a.r(t);var n=a("656b"),i=a("4afa");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);var r=a("f0c5"),l=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"4ef9e406",null,!1,n["a"],void 0);t["default"]=l.exports}}]);
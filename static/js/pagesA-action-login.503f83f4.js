(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-action-login"],{"222c":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o}));var o={beeAuth:i("277d").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrapper",class:{light:"light"===t.theme,dark:"dark"===t.theme,sym:"sym"===t.theme},staticStyle:{width:"100%",height:"100vh"}},[i("v-uni-image",{staticStyle:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0"},attrs:{src:t.randomimage.featured_media,mode:"aspectFill"}}),i("v-uni-image",{staticStyle:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0"},attrs:{src:t.randomimage.featured_full_media,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"bee-page"},[i("v-uni-view",{staticClass:"session",staticStyle:{width:"100%"},style:{height:t.windowHeight-t.statusBarHeight+"px"}},[i("bee-auth",{staticStyle:{height:"100%"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1)],1)],1)},r=[]},"277d":function(t,e,i){"use strict";i.r(e);var o=i("5977"),n=i("89d7");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("577a");var a=i("f0c5"),s=Object(a["a"])(n["default"],o["b"],o["c"],!1,null,"14ea4231",null,!1,o["a"],void 0);e["default"]=s.exports},"2aad":function(t,e,i){"use strict";var o=i("fe40");t.exports={computed:{user:function(){var t=this.$store.getters["session/get"]("userId");return t?this.$store.getters["jv/get"]("user/user"):{}}},methods:{getUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(new Date).getTime(),i=uni.getStorageSync(o.STORGE_GET_USER_TIME);if(t||(e-i)/1e3>60){var n=this.$store.getters["session/get"]("userId"),r={access_token:n};this.$store.commit("jv/deleteRecord",{_jv:{type:"user",id:"user"}}),this.$store.dispatch("jv/get",["bee/v1/user/user",{params:r}]),uni.setStorageSync(o.STORGE_GET_USER_TIME,(new Date).getTime())}},logind:function(){var t=this.$store.getters["session/get"]("userId");if(t){var e={access_token:t};this.$store.dispatch("jv/get",["bee/v1/user/user",{params:e}])}}}}},"30d0":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{randomimage:{},imageList:[]}},onShow:function(){var t=uni.getStorageSync("randomimg");t&&"0"===this.$u.beeoptions.logingroup.covertype?(this.imageList=t,this.randomImage()):this.randomimage={featured_media:this.$u.beeoptions.logingroup.cover?this.$u.beeoptions.logingroup.cover:"",title:{rendered:""},_need:"0",excerpt:{rendered:""},type:"post"}},onLoad:function(){},computed:{},methods:{randomImage:function(){this.randomimage=this.imageList[Math.floor(Math.random()*this.imageList.length)]},close:function(){var t=null;t&&clearTimeout(t),t=setTimeout((function(){uni.navigateBack({delta:1})}),100)}}};e.default=o},"41b1":function(t,e,i){var o=i("554f");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("7b141875",o,!0,{sourceMap:!1,shadowMode:!1})},4427:function(t,e,i){"use strict";var o=i("5628"),n=i.n(o);n.a},"554f":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".auth[data-v-14ea4231]{position:relative;height:100%;display:flex;flex-direction:column}.auth__content[data-v-14ea4231]{display:flex;flex-direction:column;justify-content:center;height:100%;flex:1}.auth__content .topcnt[data-v-14ea4231]{flex:1}.auth__content .midcnt[data-v-14ea4231]{display:flex;flex-direction:row;justify-content:center;height:80px}.auth__content .footcnt[data-v-14ea4231]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;height:44px;font-size:15px}.auth__content__text[data-v-14ea4231]{font-size:19px;margin-bottom:20px}.auth__content__button[data-v-14ea4231]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:30px;color:#fff;cursor:pointer}.auth__content__button_app[data-v-14ea4231]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:10px;color:#fff;cursor:pointer}.auth__content__button_h5[data-v-14ea4231]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:30px;color:#fff;cursor:pointer}",""]),t.exports=e},5628:function(t,e,i){var o=i("6845");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("954cef78",o,!0,{sourceMap:!1,shadowMode:!1})},"577a":function(t,e,i){"use strict";var o=i("41b1"),n=i.n(o);n.a},5977:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o}));var o={beeIco:i("2b59").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{color:"rgba(255,255,255,1)",position:"relative",height:"100%"}},[i("v-uni-view",{staticClass:"auth session"},[i("v-uni-view",{staticClass:"titlearea",style:{height:t.titleBarHeight+"px"}},[i("v-uni-view",{staticClass:"title"},[t._v("请先登录")]),i("v-uni-view",{staticClass:"popup-box-btn cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("bee-ico",{staticClass:"bee-icon",attrs:{name:"close-fill",size:44,invert:!0}})],1)],1),i("v-uni-view",{staticClass:"auth__content popup-box-body"},[i("v-uni-view",{staticClass:"topcnt"},[t.beeoptions.logingroup.wordopen?i("v-uni-view",{staticClass:"hitotext"},[i("v-uni-text",{staticClass:"text"},[t._v(t._s(t.yiyan))])],1):t._e()],1),i("v-uni-view",{staticClass:"midcnt"},[t._l(t.h5login,(function(e,o){return t.h5login&&0===o?i("v-uni-view",{key:o,staticClass:"auth__content__button_h5",staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"row",background:"#ffffff",color:"#000000","margin-right":"10px","box-sizing":"border-box"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getUserProfile("h5")}}},[i("bee-ico",{staticClass:"bee-icon",staticStyle:{"margin-left":"-5px","margin-right":"-5px",width:"44px"},attrs:{name:e.icon,size:44,invert:!0,color:"#000000"}}),i("v-uni-text",[t._v(t._s(e.text))])],1):t._e()})),i("v-uni-view",{staticClass:"auth__content__button_h5",staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column",border:"1px solid",color:"#ffffff","box-sizing":"border-box"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("游客访问")])],1)],2),t.h5login.length>1?i("v-uni-scroll-view",{staticClass:"morelogin",staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"flex-start","margin-top":"10px","margin-bottom":"20px",width:"100%",height:"44px","white-space":"nowrap",position:"relative"},attrs:{type:"list","scroll-x":!0,"enable-flex":!0,"show-scrollbar":"false",enhanced:"true"}},[i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row"}},t._l(t.h5login,(function(e,o){return 0!==o?i("v-uni-view",{key:o,staticStyle:{display:"flex","align-items":"center","justify-content":"space-around","flex-direction":"column","margin-right":"12px","margin-bottom":"12px",height:"44px",width:"44px","border-radius":"50%","flex-shrink":"0"},style:{background:e.bgcolor},attrs:{title:e.text},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getUserProfile("h5")}}},[i("bee-ico",{staticClass:"bee-icon",attrs:{name:e.icon,size:44,invert:!0,color:e.color}})],1):t._e()})),1)],1):t._e()],1)],1)],1)},r=[]},6202:function(t,e,i){"use strict";i.r(e);var o=i("30d0"),n=i.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);e["default"]=n.a},6845:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".bee-page[data-v-687cf613]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;background-color:rgba(0,0,0,.5)!important;height:100vh}.safebtm[data-v-687cf613]{padding-bottom:calc(%?0?% + env(safe-area-inset-bottom))}.session[data-v-687cf613]{display:flex;flex-direction:column}",""]),t.exports=e},"873d":function(t,e,i){"use strict";i.r(e);var o=i("222c"),n=i("6202");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("4427");var a=i("f0c5"),s=Object(a["a"])(n["default"],o["b"],o["c"],!1,null,"687cf613",null,!1,o["a"],void 0);e["default"]=s.exports},"89d7":function(t,e,i){"use strict";i.r(e);var o=i("e78d"),n=i.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);e["default"]=n.a},afd5:function(t,e,i){"use strict";var o=i("4ea4").default,n=o(i("2aad"));t.exports={mixins:[n.default],methods:{mpLoginMode:function(){uni.setStorageSync("register",1),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open()},popAuthmsg:function(t){this.$store.dispatch("session/setAuthid",t),this.$store.getters["session/get"]("authmsg").open()},refreshmpParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=this;uni.login({success:function(i){if("login:ok"===i.errMsg){var o=i.code,n={code:o};e.$store.dispatch("session/setParams",n),t()}},fail:function(t){}})},mpLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;uni.setStorageSync("register",t),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open()},getLoginBindParams:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.refreshmpParams();var o=t;1===i&&(o.rebind=1);var n=uni.getStorageSync("token");""!==n&&(o.token=n),this.login(o,e)}}}},e78d:function(t,e,i){"use strict";(function(t){i("7a82");var o=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("c7eb")),r=o(i("1da1")),a=o(i("5530"));i("caad"),i("2532"),i("99af"),i("d3b7");i("fe40");var s=o(i("6903")),c=o(i("2aad")),l=o(i("afd5")),u=i("26cb"),d={mixins:[c.default,l.default],data:function(){return{canIUseGetUserProfile:!1,sitename:"登录",showAgree:!1,yiyan:"",provider:[],h5login:[]}},mounted:function(t){var e=this,i=[];uni.getProvider({service:"oauth",success:function(t){t.provider.includes("facebook")&&(i=[{icon:"facebook-box-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Facebook登录",provider:"facebook",type:1}].concat(i)),t.provider.includes("google")&&(i=[{icon:"google-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Google登录",provider:"google",type:1}].concat(i)),t.provider.includes("sinaweibo")&&(i=[{icon:"weibo-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微博登录",provider:"sinaweibo",type:1}].concat(i)),t.provider.includes("qq")&&(i=[{icon:"qq-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"QQ登录",provider:"qq",type:1}].concat(i)),t.provider.includes("apple")&&(i=[{icon:"apple-fill",color:"#ffffff",bgcolor:"#000000",text:"Apple登录",provider:"apple",type:1}].concat(i)),t.provider.includes("weixin")&&(i=[{icon:"wechat-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微信登录",provider:"weixin",type:1}].concat(i)),e.provider=i}});var o=["wx","qq","alipay","sina","baidu"],n=[];o.includes("gitee")&&(n=[{icon:"gitee-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Gitee登录",provider:"gitee",type:1}].concat(n)),o.includes("github")&&(n=[{icon:"github-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Github登录",provider:"github",type:1}].concat(n)),o.includes("dingtalk")&&(n=[{icon:"dingding-line",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"钉钉登录",provider:"dingtalk",type:1}].concat(n)),o.includes("twitter")&&(n=[{icon:"twitter-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Twitter登录",provider:"twitter",type:1}].concat(n)),o.includes("facebook")&&(n=[{icon:"facebook-box-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Facebook登录",provider:"facebook",type:1}].concat(n)),o.includes("microsoft")&&(n=[{icon:"windows-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微软登录",provider:"microsoft",type:1}].concat(n)),o.includes("google")&&(n=[{icon:"google-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"谷歌登录",provider:"google",type:1}].concat(n)),o.includes("huawei")&&(n=[{icon:"huawei-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"华为登录",provider:"huawei",type:1}].concat(n)),o.includes("baidu")&&(n=[{icon:"baidu-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"百度登录",provider:"baidu",type:1}].concat(n)),o.includes("sina")&&(n=[{icon:"weibo-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微博登录",provider:"sina",type:1}].concat(n)),o.includes("alipay")&&(n=[{icon:"alipay-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"支付宝登录",provider:"alipay",type:1}].concat(n)),o.includes("qq")&&(n=[{icon:"qq-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"QQ登录",provider:"qq",type:1}].concat(n)),o.includes("wx")&&(n=[{icon:"wechat-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微信登录",provider:"wx",type:1}].concat(n)),this.h5login=n},computed:{},created:function(){uni.getUserProfile&&(this.canIUseGetUserProfile=!0),"0"===this.$u.beeoptions.logingroup.wordtype?this.hitotxt():this.yiyan=this.$u.beeoptions.logingroup.text},methods:(0,a.default)((0,a.default)({},(0,u.mapMutations)({setUserId:"session/SET_USER_ID"})),{},{isShowAgree:function(){this.showAgree=!this.showAgree},tofilepage:function(){this.linkPage(this.$u.beeoptions.logingroup.file,"隐私协议")},hitotxt:function(){var t=this;s.default.apiMpv1({cools:{api_type:"post/hitokoto"},method:"GET"}).then((function(e){t.yiyan=e.hitokoto}))},getUserProfile:function(t){return uni.showToast({icon:"none",position:"bottom",title:"正在开发此功能..."}),!1},getUserProfilecall:function(){return new Promise((function(t,e){uni.getUserProfile({desc:"用于完善用户资料",lang:"zh_CN",success:function(){var i=(0,r.default)((0,n.default)().mark((function i(o){return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:try{"getUserProfile:ok"!==o.errMsg&&"getUserInfo:ok"!==o.errMsg||t(o)}catch(n){e(o)}case 1:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),fail:function(t){uni.showToast({icon:"none",title:"您拒绝了操作"})}})}))},logincall:function(){return new Promise((function(e,i){uni.login({success:function(o){"login:ok"===o.errMsg&&(t.log("res",o),e(o)),i(o)},fail:function(t){i(t)}})}))},close:function(){this.$emit("close")}})};e.default=d}).call(this,i("5a52")["default"])}}]);
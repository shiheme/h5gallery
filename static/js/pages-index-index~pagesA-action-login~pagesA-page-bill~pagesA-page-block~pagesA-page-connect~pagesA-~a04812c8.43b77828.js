(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index~pagesA-action-login~pagesA-page-bill~pagesA-page-block~pagesA-page-connect~pagesA-~a04812c8"],{"16ee":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".hitotext[data-v-49fbac52]{font-size:15px;opacity:.8}.auth[data-v-49fbac52]{position:relative;height:100%;display:flex;flex-direction:column}.auth__content[data-v-49fbac52]{display:flex;flex-direction:column;justify-content:center;height:100%;flex:1}.auth__content .topcnt[data-v-49fbac52]{flex:1}.auth__content .midcnt[data-v-49fbac52]{display:flex;flex-direction:row;justify-content:center;height:80px}.auth__content .footcnt[data-v-49fbac52]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;height:44px;font-size:15px}.auth__content__text[data-v-49fbac52]{font-size:19px;margin-bottom:20px}.auth__content__button[data-v-49fbac52]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:30px;color:#fff;cursor:pointer}.auth__content__button_app[data-v-49fbac52]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:10px;color:#fff;cursor:pointer}.auth__content__button_h5[data-v-49fbac52]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:30px;color:#fff;cursor:pointer}",""]),t.exports=e},"277d":function(t,e,i){"use strict";i.r(e);var o=i("d274"),n=i("89d7");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("9e58");var c=i("f0c5"),a=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,"49fbac52",null,!1,o["a"],void 0);e["default"]=a.exports},"89d7":function(t,e,i){"use strict";i.r(e);var o=i("e78d"),n=i.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(r);e["default"]=n.a},"9e58":function(t,e,i){"use strict";var o=i("c437"),n=i.n(o);n.a},afd5:function(t,e,i){"use strict";var o=i("4ea4").default,n=o(i("2aad"));t.exports={mixins:[n.default],methods:{mpLoginMode:function(){uni.setStorageSync("register",1),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open()},popAuthmsg:function(t){this.$store.dispatch("session/setAuthid",t),this.$store.getters["session/get"]("authmsg").open()},refreshmpParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=this;uni.login({success:function(i){if("login:ok"===i.errMsg){var o=i.code,n={code:o};e.$store.dispatch("session/setParams",n),t()}},fail:function(t){}})},mpLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;uni.setStorageSync("register",t),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open()},getLoginBindParams:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.refreshmpParams();var o=t;1===i&&(o.rebind=1);var n=uni.getStorageSync("token");""!==n&&(o.token=n),this.login(o,e)}}}},c437:function(t,e,i){var o=i("16ee");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("2fe92e30",o,!0,{sourceMap:!1,shadowMode:!1})},d274:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o}));var o={beeIco:i("2b59").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{color:"rgba(255,255,255,1)",position:"relative",height:"100%"}},[i("v-uni-view",{staticClass:"auth session"},[i("v-uni-view",{staticClass:"titlearea",style:{height:t.titleBarHeight+"px"}},[i("v-uni-view",{staticClass:"title"},[t._v("请先登录")]),i("v-uni-view",{staticClass:"popup-box-btn cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("bee-ico",{staticClass:"bee-icon",attrs:{name:"close-fill",size:44,invert:!0}})],1)],1),i("v-uni-view",{staticClass:"auth__content popup-box-body"},[i("v-uni-view",{staticClass:"topcnt"},[t.beeoptions.logingroup.wordopen?i("v-uni-view",{staticClass:"hitotext"},[i("v-uni-text",{staticClass:"text"},[t._v(t._s(t.yiyan?"“ "+t.yiyan+" ”":""))])],1):t._e()],1),i("v-uni-view",{staticClass:"midcnt"},[t._l(t.h5login,(function(e,o){return t.h5login&&0===o?i("v-uni-view",{key:o,staticClass:"auth__content__button_h5",staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"row",background:"#ffffff",color:"#000000","margin-right":"10px","box-sizing":"border-box"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getUserProfileH5(e.provider)}}},[i("bee-ico",{staticClass:"bee-icon",staticStyle:{"margin-left":"-5px","margin-right":"-5px",width:"44px"},attrs:{name:e.icon,size:44,invert:!0,color:"#000000"}}),i("v-uni-text",[t._v(t._s(e.text))])],1):t._e()})),i("v-uni-view",{staticClass:"auth__content__button_h5",staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column",border:"1px solid #ffffff",color:"#ffffff","box-sizing":"border-box"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("游客访问")])],1)],2),t.h5login.length>1?i("v-uni-scroll-view",{staticClass:"morelogin",staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"flex-start","margin-top":"10px","margin-bottom":"20px",width:"100%",height:"44px","white-space":"nowrap",position:"relative"},attrs:{type:"list","scroll-x":!0,"enable-flex":!0,"show-scrollbar":"false",enhanced:"true"}},[i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row"}},t._l(t.h5login,(function(e,o){return 0!==o?i("v-uni-view",{key:o,staticStyle:{display:"flex","align-items":"center","justify-content":"space-around","flex-direction":"column","margin-right":"12px","margin-bottom":"12px",height:"44px",width:"44px","border-radius":"50%","flex-shrink":"0"},style:{background:e.bgcolor},attrs:{title:e.text},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getUserProfileH5(e.provider)}}},[i("bee-ico",{staticClass:"bee-icon",attrs:{name:e.icon,size:44,invert:!0,color:e.color}})],1):t._e()})),1)],1):t._e()],1)],1)],1)},r=[]},e78d:function(t,e,i){"use strict";(function(t){i("7a82");var o=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("c7eb")),r=o(i("1da1")),c=o(i("5530"));i("caad"),i("2532"),i("99af"),i("a9e3"),i("d3b7");i("fe40");var a=o(i("6903")),l=o(i("2aad")),s=o(i("afd5")),u=i("26cb"),f={mixins:[l.default,s.default],data:function(){return{canIUseGetUserProfile:!1,sitename:"登录",showAgree:!1,yiyan:"",provider:[],h5login:[]}},mounted:function(t){var e=this,i=[];uni.getProvider({service:"oauth",success:function(t){t.provider.includes("facebook")&&(i=[{icon:"facebook-box-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Facebook登录",provider:"facebook",type:1}].concat(i)),t.provider.includes("google")&&(i=[{icon:"google-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Google登录",provider:"google",type:1}].concat(i)),t.provider.includes("sinaweibo")&&(i=[{icon:"weibo-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微博登录",provider:"sinaweibo",type:1}].concat(i)),t.provider.includes("qq")&&(i=[{icon:"qq-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"QQ登录",provider:"qq",type:1}].concat(i)),t.provider.includes("apple")&&(i=[{icon:"apple-fill",color:"#ffffff",bgcolor:"#000000",text:"Apple登录",provider:"apple",type:1}].concat(i)),t.provider.includes("weixin")&&(i=[{icon:"wechat-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微信登录",provider:"weixin",type:1}].concat(i)),e.provider=i}});var o=[],n=this.$u.beeoptions.basegroup.h5;n.api&&1===Number(n.api)?o=n.other_type?n.other_type:[]:n.api&&2===Number(n.api)&&(o=n.base_type?n.base_type:[]);var r=[];o.includes("gitee")&&(r=[{icon:"gitee-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Gitee登录",provider:"gitee",type:1}].concat(r)),o.includes("github")&&(r=[{icon:"github-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Github登录",provider:"github",type:1}].concat(r)),o.includes("dingtalk")&&(r=[{icon:"dingding-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"钉钉登录",provider:"dingtalk",type:1}].concat(r)),o.includes("twitter")&&(r=[{icon:"twitter-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Twitter登录",provider:"twitter",type:1}].concat(r)),o.includes("facebook")&&(r=[{icon:"facebook-box-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Facebook登录",provider:"facebook",type:1}].concat(r)),o.includes("microsoft")&&(r=[{icon:"windows-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微软登录",provider:"microsoft",type:1}].concat(r)),o.includes("google")&&(r=[{icon:"google-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"谷歌登录",provider:"google",type:1}].concat(r)),o.includes("huawei")&&(r=[{icon:"huawei-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"华为登录",provider:"huawei",type:1}].concat(r)),o.includes("baidu")&&(r=[{icon:"baidu-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"百度登录",provider:"baidu",type:1}].concat(r)),o.includes("sina")&&(r=[{icon:"weibo-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微博登录",provider:"sina",type:1}].concat(r)),o.includes("alipay")&&(r=[{icon:"alipay-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"支付宝登录",provider:"alipay",type:1}].concat(r)),o.includes("qq")&&(r=[{icon:"qq-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"QQ登录",provider:"qq",type:1}].concat(r)),o.includes("wx")&&(r=[{icon:"wechat-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微信登录",provider:"wx",type:1}].concat(r)),this.h5login=r},computed:{},created:function(){uni.getUserProfile&&(this.canIUseGetUserProfile=!0),"0"===this.$u.beeoptions.logingroup.wordtype?this.hitotxt():this.yiyan=this.$u.beeoptions.logingroup.text},methods:(0,c.default)((0,c.default)({},(0,u.mapMutations)({setUserId:"session/SET_USER_ID",setLoginState:"session/SET_ATTACHMENT"})),{},{isShowAgree:function(){this.showAgree=!this.showAgree},tofilepage:function(){this.linkPage(this.$u.beeoptions.logingroup.file,"隐私协议")},hitotxt:function(){var t=this;a.default.apiMpv1({cools:{api_type:"post/hitokoto"},method:"GET"}).then((function(e){t.yiyan=e.hitokoto}))},getUserProfileH5:function(e){uni.showLoading({title:"准备登录...",mask:!0}),t.log("login");var i={type:e};a.default.apiMpv1({params:i,cools:{api_type:"user/h5login"},method:"GET"}).then((function(e){uni.hideLoading(),t.log("api:",e),0===e.code?window.location.href=e.url:uni.showToast({icon:"error",title:e.data.errmsg,duration:2e3})}))},getUserProfile:function(t){},getUserProfilecall:function(){return new Promise((function(t,e){uni.getUserProfile({desc:"用于完善用户资料",lang:"zh_CN",success:function(){var i=(0,r.default)((0,n.default)().mark((function i(o){return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:try{"getUserProfile:ok"!==o.errMsg&&"getUserInfo:ok"!==o.errMsg||t(o)}catch(n){e(o)}case 1:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),fail:function(t){uni.showToast({icon:"none",title:"您拒绝了操作"})}})}))},logincall:function(){return new Promise((function(e,i){uni.login({success:function(o){"login:ok"===o.errMsg&&(t.log("res",o),e(o)),i(o)},fail:function(t){i(t)}})}))},close:function(){this.$emit("close")}})};e.default=f}).call(this,i("5a52")["default"])}}]);
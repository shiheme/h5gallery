(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-action-login"],{"0afb":function(t,e,i){"use strict";var n=i("0c2f"),o=i.n(n);o.a},"0c2f":function(t,e,i){var n=i("4d40");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("4f44adfb",n,!0,{sourceMap:!1,shadowMode:!1})},"222c":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={beeAuth:i("277d").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrapper",class:{light:"light"===t.theme,dark:"dark"===t.theme,sym:"sym"===t.theme},staticStyle:{width:"100%",height:"100vh"}},[i("v-uni-image",{staticStyle:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0"},attrs:{src:t.randomimage.featured_media,mode:"aspectFill"}}),i("v-uni-image",{staticStyle:{width:"100%",height:"100%",position:"absolute",left:"0",top:"0"},attrs:{src:t.randomimage.featured_full_media,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"bee-page"},[i("v-uni-view",{staticClass:"session",staticStyle:{width:"100%"},style:{height:t.windowHeight-t.statusBarHeight+"px"}},[i("bee-auth",{staticStyle:{height:"100%"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1)],1)],1)},a=[]},"277d":function(t,e,i){"use strict";i.r(e);var n=i("7ebf"),o=i("89d7");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("0afb");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"27d93ac0",null,!1,n["a"],void 0);e["default"]=s.exports},"2aad":function(t,e,i){"use strict";var n=i("fe40");t.exports={computed:{user:function(){var t=this.$store.getters["session/get"]("userId");return t?this.$store.getters["jv/get"]("user/user"):{}}},methods:{getUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(new Date).getTime(),i=uni.getStorageSync(n.STORGE_GET_USER_TIME);if(t||(e-i)/1e3>60){var o=this.$store.getters["session/get"]("userId"),a={access_token:o};this.$store.commit("jv/deleteRecord",{_jv:{type:"user",id:"user"}}),this.$store.dispatch("jv/get",["bee/v1/user/user",{params:a}]),uni.setStorageSync(n.STORGE_GET_USER_TIME,(new Date).getTime())}},logind:function(){var t=this.$store.getters["session/get"]("userId");if(t){var e={access_token:t};this.$store.dispatch("jv/get",["bee/v1/user/user",{params:e}])}}}}},"30d0":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{randomimage:{},imageList:[]}},onShow:function(){var t=uni.getStorageSync("randomimg");t&&"0"===this.$u.beeoptions.logingroup.covertype?(this.imageList=t,this.randomImage()):this.randomimage={featured_media:this.$u.beeoptions.logingroup.cover?this.$u.beeoptions.logingroup.cover:"",title:{rendered:""},_need:"0",excerpt:{rendered:""},type:"post"}},onLoad:function(){},computed:{},methods:{randomImage:function(){this.randomimage=this.imageList[Math.floor(Math.random()*this.imageList.length)]},close:function(){var t=null;t&&clearTimeout(t),t=setTimeout((function(){uni.navigateBack({delta:1})}),100)}}};e.default=n},4427:function(t,e,i){"use strict";var n=i("5628"),o=i.n(n);o.a},"4d40":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".auth[data-v-27d93ac0]{position:relative;height:100%;display:flex;flex-direction:column}.auth__content[data-v-27d93ac0]{display:flex;flex-direction:column;justify-content:center;height:100%;flex:1}.auth__content .topcnt[data-v-27d93ac0]{flex:1}.auth__content .midcnt[data-v-27d93ac0]{display:flex;flex-direction:row;justify-content:center;height:80px}.auth__content .footcnt[data-v-27d93ac0]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;height:44px;font-size:15px}.auth__content__text[data-v-27d93ac0]{font-size:19px;margin-bottom:20px}.auth__content__button[data-v-27d93ac0]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:30px;color:#fff}.auth__content__button_app[data-v-27d93ac0]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:100%;border-radius:10px;color:#fff}.auth__content__button_h5[data-v-27d93ac0]{display:flex;flex-direction:row;justify-content:center;align-items:center;height:60px;width:50%;border-radius:30px;color:#fff}",""]),t.exports=e},5628:function(t,e,i){var n=i("6845");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("954cef78",n,!0,{sourceMap:!1,shadowMode:!1})},6202:function(t,e,i){"use strict";i.r(e);var n=i("30d0"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},6845:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".bee-page[data-v-687cf613]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;background-color:rgba(0,0,0,.5)!important;height:100vh}.safebtm[data-v-687cf613]{padding-bottom:calc(%?0?% + env(safe-area-inset-bottom))}.session[data-v-687cf613]{display:flex;flex-direction:column}",""]),t.exports=e},"7ebf":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={beeIco:i("2b59").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{color:"rgba(255,255,255,1)",position:"relative",height:"100%"}},[i("v-uni-view",{staticClass:"auth session"},[i("v-uni-view",{staticClass:"titlearea",style:{height:t.titleBarHeight+"px"}},[i("v-uni-view",{staticClass:"title"},[t._v("请先登录")]),i("v-uni-view",{staticClass:"popup-box-btn cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("bee-ico",{staticClass:"bee-icon",attrs:{name:"close-fill",size:44,invert:!0}})],1)],1),i("v-uni-view",{staticClass:"auth__content popup-box-body"},[i("v-uni-view",{staticClass:"topcnt"},[i("v-uni-view",{staticClass:"miniqrcode",staticStyle:{display:"flex",width:"100%","flex-direction":"column","justify-content":"center","align-items":"center"}},[i("v-uni-view",{staticStyle:{padding:"20px","border-radius":"50%",overflow:"hidden","background-color":"rgba(245, 245, 245, .95)",position:"relative"}},[i("v-uni-image",{staticStyle:{width:"160px",height:"160px"},attrs:{src:"/static/local/qbzqrcode.png"}}),i("v-uni-view",{staticStyle:{position:"absolute",width:"100%",height:"100%","z-index":"10",left:"0",top:"0","background-color":"rgba(245, 245, 245, 1)","backdrop-filter":"blur(5px)","border-radius":"50%",overflow:"hidden"}},[i("v-uni-view",{staticStyle:{display:"flex",width:"100%",height:"100%","align-items":"center","justify-content":"center","flex-direction":"column",color:"#000000","box-sizing":"border-box"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getUserProfile("mini")}}},[i("bee-ico",{staticClass:"bee-icon",staticStyle:{"margin-left":"-5px","margin-right":"-5px",width:"64px",height:"64px"},attrs:{name:"mini-program-fill",size:80,invert:!0,color:"green"}}),i("v-uni-text",[t._v("扫码登录")]),i("v-uni-text",{staticStyle:{"font-size":"10px"}},[t._v("点击获取小程序码")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"midcnt"},[i("v-uni-view",{staticClass:"auth__content__button_h5",staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column",border:"1px solid",color:"#ffffff","box-sizing":"border-box"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("游客访问")])],1)],1)],1)],1)],1)},a=[]},"873d":function(t,e,i){"use strict";i.r(e);var n=i("222c"),o=i("6202");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("4427");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"687cf613",null,!1,n["a"],void 0);e["default"]=s.exports},"89d7":function(t,e,i){"use strict";i.r(e);var n=i("e78d"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},afd5:function(t,e,i){"use strict";var n=i("4ea4").default,o=n(i("2aad"));t.exports={mixins:[o.default],methods:{mpLoginMode:function(){uni.setStorageSync("register",1),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open()},popAuthmsg:function(t){this.$store.dispatch("session/setAuthid",t),this.$store.getters["session/get"]("authmsg").open()},refreshmpParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=this;uni.login({success:function(i){if("login:ok"===i.errMsg){var n=i.code,o={code:n};e.$store.dispatch("session/setParams",o),t()}},fail:function(t){}})},mpLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;uni.setStorageSync("register",t),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open()},getLoginBindParams:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.refreshmpParams();var n=t;1===i&&(n.rebind=1);var o=uni.getStorageSync("token");""!==o&&(n.token=o),this.login(n,e)}}}},e78d:function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("c7eb")),a=n(i("1da1")),r=n(i("5530"));i("caad"),i("2532"),i("99af"),i("d3b7");var s=i("fe40"),c=n(i("6903")),l=n(i("2aad")),u=n(i("afd5")),d=i("26cb"),f={mixins:[l.default,u.default],data:function(){return{canIUseGetUserProfile:!1,sitename:"登录",showAgree:!1,yiyan:"",provider:[]}},mounted:function(t){var e=this,i=[];uni.getProvider({service:"oauth",success:function(t){t.provider.includes("facebook")&&(i=[{icon:"facebook-box-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Facebook登录",provider:"facebook",type:1}].concat(i)),t.provider.includes("google")&&(i=[{icon:"google-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"Google登录",provider:"google",type:1}].concat(i)),t.provider.includes("sinaweibo")&&(i=[{icon:"weibo-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微博登录",provider:"sinaweibo",type:1}].concat(i)),t.provider.includes("qq")&&(i=[{icon:"qq-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"QQ登录",provider:"qq",type:1}].concat(i)),t.provider.includes("apple")&&(i=[{icon:"apple-fill",color:"#ffffff",bgcolor:"#000000",text:"Apple登录",provider:"apple",type:1}].concat(i)),t.provider.includes("weixin")&&(i=[{icon:"wechat-fill",color:"#333333",bgcolor:"rgba(255,255,255,.8)",text:"微信登录",provider:"weixin",type:1}].concat(i)),e.provider=i}})},computed:{},created:function(){uni.getUserProfile&&(this.canIUseGetUserProfile=!0),"0"===this.$u.beeoptions.logingroup.wordtype?this.hitotxt():this.yiyan=this.$u.beeoptions.logingroup.text},methods:(0,r.default)((0,r.default)({},(0,d.mapMutations)({setUserId:"session/SET_USER_ID"})),{},{isShowAgree:function(){this.showAgree=!this.showAgree},tofilepage:function(){this.linkPage(this.$u.beeoptions.logingroup.file,"隐私协议")},hitotxt:function(){var t=this,e=s.BEEBEE_CUSTOM_HITOAPI;c.default.apiCommon({url:e,headers:{},method:"GET"}).then((function(e){t.yiyan=e.hitokoto}))},getUserProfile:function(t){return uni.showToast({icon:"none",position:"bottom",title:"正在开发此功能..."}),!1},getUserProfilecall:function(){return new Promise((function(t,e){uni.getUserProfile({desc:"用于完善用户资料",lang:"zh_CN",success:function(){var i=(0,a.default)((0,o.default)().mark((function i(n){return(0,o.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:try{"getUserProfile:ok"!==n.errMsg&&"getUserInfo:ok"!==n.errMsg||t(n)}catch(o){e(n)}case 1:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),fail:function(t){uni.showToast({icon:"none",title:"您拒绝了操作"})}})}))},logincall:function(){return new Promise((function(e,i){uni.login({success:function(n){"login:ok"===n.errMsg&&(t.log("res",n),e(n)),i(n)},fail:function(t){i(t)}})}))},close:function(){this.$emit("close")}})};e.default=f}).call(this,i("5a52")["default"])}}]);